(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{lUxT:function(t,a,l){"use strict";l.r(a);var s={name:"internal-link-modal",props:{value:{type:Boolean,default:!1},linkUrl:{type:String,default:""}},data:function(){return{link_url:null,terms:[],articles:[],onSearchData:function(){}}},mounted:function(){this.init(),this.onSearchData=this.debounce(this.search,500)},methods:{init:function(){this.link_url=this.linkUrl,this.terms=[],this.articles=[]},debounce:function(t,a){var l=null;return function(){clearTimeout(l),l=setTimeout((function(){t()}),a)}},search:function(){var t=this;this.$axios({url:"/api/search?q=".concat(this.link_url),baseURL:"https://pixxo.nl",withCredentials:!1}).then((function(a){a.data.data&&(t.terms=a.data.data.term||[],t.articles=a.data.data.article||[])}))},onSelectLink:function(t){this.link_url=t.url,this.terms=[],this.articles=[]}},watch:{value:function(){this.init()}}},i=l("KHd+"),e=Object(i.a)(s,(function(){var t=this,a=t.$createElement,l=t._self._c||a;return l("t-modal",{attrs:{"container-class":"flex items-center relative h-full mx-auto z-50","wrapper-class":"t-modal flex-auto bg-white rounded","overlay-class":"fixed left-0 top-0 bottom-0 right-0 bg-black opacity-75 z-40","body-class":"flex flex-col p-6","hide-close-button":""},model:{value:t.value,callback:function(a){t.value=a},expression:"value"}},[l("h2",{staticClass:"text-lg"},[t._v(t._s(t.linkUrl?"Update internal link":"Add internal link"))]),t._v(" "),l("div",{staticClass:"relative w-full mt-10"},[l("svg-icon",{staticClass:"absolute text-gray-500 top-0 left-0 w-4 mt-2 ml-2",attrs:{name:"search"}}),t._v(" "),l("t-input",{staticClass:"w-full pl-8",attrs:{size:"sm"},on:{input:function(a){return t.onSearchData(a)}},model:{value:t.link_url,callback:function(a){t.link_url=a},expression:"link_url"}})],1),t._v(" "),l("div",{staticClass:"w-full max-h-full overflow-y-auto mt-4 p-4",class:t.terms.length||t.articles.length?"h-48 border border-gray-400":""},[t.terms.length?l("div",{staticClass:"mb-3"},[l("p",{staticClass:"text-gray-700 mt-0 mb-2"},[t._v("TERMS")]),t._v(" "),t._l(t.terms,(function(a){return l("div",{key:a.id,class:"cursor-pointer p-2 hover:bg-gray-200",on:{click:function(l){return t.onSelectLink(a)}}},[l("p",{staticClass:"text-black m-0"},[t._v(t._s(a.title))]),t._v(" "),l("p",{staticClass:"text-gray-700 italic m-0"},[t._v(t._s(a.description))])])}))],2):t._e(),t._v(" "),t.articles.length?l("div",[l("p",{staticClass:"text-gray-700 mt-0 mb-2"},[t._v("ARTICLES")]),t._v(" "),t._l(t.articles,(function(a){return l("div",{key:a.id,class:"cursor-pointer p-2 hover:bg-gray-200",on:{click:function(l){return t.onSelectLink(a)}}},[l("p",{staticClass:"text-black m-0"},[t._v(t._s(a.title))]),t._v(" "),l("p",{staticClass:"text-gray-700 italic m-0"},[t._v(t._s(a.excerpt))])])}))],2):t._e()]),t._v(" "),l("div",{staticClass:"flex w-full mt-10"},[l("div",{staticClass:"w-1/2"},[l("t-button",{staticClass:"t-btn-cancel",attrs:{size:"sm"},on:{click:function(a){return t.$emit("close")}}},[l("span",{staticClass:"mr-2"},[t._v("Cancel")]),t._v(" "),l("svg-icon",{attrs:{name:"close"}})],1)],1),t._v(" "),l("div",{staticClass:"text-right w-1/2"},[t.linkUrl?l("t-button",{staticClass:"mr-2",attrs:{variant:"danger",size:"sm"},on:{click:function(a){return t.$emit("add",null)}}},[l("span",{staticClass:"mr-2"},[t._v("Remove Link")])]):t._e(),t._v(" "),l("t-button",{class:{disabled:!t.link_url},attrs:{variant:"primary",size:"sm"},on:{click:function(a){return t.$emit("add",t.link_url)}}},[l("span",{staticClass:"mr-2"},[t._v(t._s(t.linkUrl?"Update":"Add")+" Link")])])],1)])])}),[],!1,null,null,null);a.default=e.exports}}]);