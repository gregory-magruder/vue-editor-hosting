(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"8/Gp":function(t,e,i){"use strict";i.r(e);var s={name:"video-modal",props:{value:{type:Boolean,default:!1}},data:function(){return{video_url:null,video_url_valid:null}},mounted:function(){this.video_url=null,this.video_url_valid=null},methods:{onValidateUrl:function(){var t=this,e=this.parseYoutubeUrl(this.video_url);if(!e)return this.video_url_valid=!1;this.video_url_valid="checking",this.$axios({url:"/youtube/v3/videos?id=".concat(e,"&key=").concat("AIzaSyBtWaJbFmGWjNyV-rZEfg2JEBORjkygOng","&part=snippet"),baseURL:"https://www.googleapis.com",withCredentials:!1}).then((function(e){setTimeout((function(){t.parseResponse(e.data)}),500)})).catch((function(e){t.video_url_valid=!1}))},parseResponse:function(t){var e=this;if(!t.items||!t.items.length)return this.video_url_valid=!1;this.video_url_valid=!0,setTimeout((function(){e.$emit("add",e.video_url)}),1e3)},parseYoutubeUrl:function(t){var e=t.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/);return!!e&&e[1]}},watch:{value:function(){this.video_url=null,this.video_url_valid=null}}},a=i("KHd+"),l=Object(a.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("t-modal",{attrs:{"container-class":"flex items-center relative h-full mx-auto z-50","wrapper-class":"t-modal flex-auto bg-white rounded","overlay-class":"fixed left-0 top-0 bottom-0 right-0 bg-black opacity-75 z-40","body-class":"flex flex-col flex-grow items-start p-6","hide-close-button":""},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[i("h2",{staticClass:"text-lg"},[t._v("Add Youtube video")]),t._v(" "),i("p",{staticClass:"text-base mt-10"},[t._v("Video ID")]),t._v(" "),i("t-input",{staticClass:"w-full",attrs:{size:"sm"},model:{value:t.video_url,callback:function(e){t.video_url=e},expression:"video_url"}}),t._v(" "),"checking"===t.video_url_valid?i("div",{staticClass:"flex items-center text-gray-800 pt-2"},[i("svg-icon",{attrs:{name:"spinner"}}),t._v(" "),i("span",{staticClass:"ml-2"},[t._v("Validating code, please wait")])],1):!1===t.video_url_valid?i("div",{staticClass:"flex items-center text-danger pt-2"},[i("svg-icon",{attrs:{name:"warning"}}),t._v(" "),i("span",{staticClass:"ml-2"},[t._v("Sorry, this code seems to be invalid.")])],1):!0===t.video_url_valid?i("div",{staticClass:"flex items-center text-success pt-2"},[i("svg-icon",{attrs:{name:"checked"}}),t._v(" "),i("span",{staticClass:"ml-2"},[t._v("Code valid, closing window.")])],1):t._e(),t._v(" "),i("div",{staticClass:"flex w-full mt-10"},[i("div",{staticClass:"text-left w-1/2"},[i("t-button",{attrs:{variant:"primary",size:"sm"},on:{click:t.onValidateUrl}},[i("span",{staticClass:"mr-2"},[t._v("Ok")])])],1),t._v(" "),i("div",{staticClass:"text-right w-1/2"},[i("t-button",{staticClass:"t-btn-cancel",attrs:{size:"sm"},on:{click:function(e){return t.$emit("close")}}},[i("span",{staticClass:"mr-2"},[t._v("Cancel")]),t._v(" "),i("svg-icon",{attrs:{name:"close"}})],1)],1)])],1)}),[],!1,null,null,null);e.default=l.exports}}]);